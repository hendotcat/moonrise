@function svg-url($svg){
  $prefix: "data:image/svg+xml;charset=utf8,";



  $encoded: encode($svg);
  @return url($prefix + $encoded);
}

@function e($n, $p, $c: ()) {
  $html: "<#{$n}";
  @each $k,$v in $p {
    $html: "#{$html} #{$k}=\"#{$v}\"";
  }
  @if (type-of($c) == "string") {
    $html: "#{$html}>#{$c}</#{$n}>";
  } @else {
    $html: "#{$html} />";
  }
  @return $html;
}

$emojis: ("ðŸŒ˜", "ðŸŒ—", "ðŸŒ–");

$textPaths: ();
@for $i from 1 through length($emojis) {
  $textPaths: append(
    $textPaths,
    e(
      "textPath",
      (
        "xlink:href": "#curve",
      ),
      "ðŸŒ’" + e(
        "set",
        (
          "attributeName": "visibility",
          "begin": "2s",
          "dur": "4s",
          "to": "hidden",
        )
      )
    )
  );
}

@debug html(
  "svg",
  (
    "xmlns": "http://www.w3.org/2000/svg",
    "xmlns:xlink": "http://www.w3.org/1999/xlink",
    "viewBox": "0 0 500 500",
  ),
  "lol"
);

$moon: svg-url(
  e(
    "svg",
    (
      "xmlns": "http://www.w3.org/2000/svg",
      "xmlns:xlink": "http://www.w3.org/1999/xlink",
      "viewBox": "0 0 500 500",
    ),
    e(
      "path",
      (
        "transform": "rotate(0, 250, 250)" ,
        "id": "curve",
        "fill": "none",
        "d": "M243.2, 382.4c-74.8,0-135.5-60.7-135.5-135.5s60.7-135.5,135.5-135.5s135.5, 60.7, 135.5,135.5 S318, 382.4, 243.2, 382.4z",
      )
    )
  )
);

body {
  background-image: $moon;

  width: 100vw;
  height: 100vh;
}
